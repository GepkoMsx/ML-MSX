;; ==[ CALL MemAddr2Page ]===============================================
;; Mapt het address naar de juiste OUT port.
;;
;; INPUT:
;; - HL: addres to convert
;; 
;; OUTPUT:
;; - C: Page $FC, $FD, $FE, $FF  for page 0-4 ($0000/$4000/$8000/$C000+)
;;
;; Werking:
;; Bereik (H)	Bit 7	Bit 6	MSX Pagina	Geheugenadres
;; #00 - #3F	0	    0	    Page 0	    $0000 - $3FFF
;; #40 - #7F	0   	1	    Page 1	    $4000 - $7FFF
;; #80 - #BF	1	    0	    Page 2	    $8000 - $BFFF
;; #C0 - #FF	1	    1	    Page 3	    $C000 - $FFFF

MemAddr2Page:
    ld a, h
    rlca          ; Verschuif bit 7 naar carry
    rlca          ; Verschuif bit 6 naar carry, bit 7 naar positie 0
    and 3         ; Houd alleen de onderste twee bits over (0, 1, 2 of 3)

    add a, $FC    ; converteer naar het IO addres voor OUT.
    ld c, a
    ret
